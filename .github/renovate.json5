{
  '$schema': 'https://docs.renovatebot.com/renovate-schema.json',
  'extends': [
    'config:recommended'
  ],
  'labels': ['renovate'],
  'customManagers': [
    {
      'customType': 'regex',
      'fileMatch': [
        '.chart-attributes$'
      ],
      'matchStringsStrategy': 'combination',
      'matchStrings': [
        'CHART_NAME=(?<depName>.+)',
        'CHARTVERSION=(?<currentValue>.+)',
        'REPO_URL=(?<registryUrl>.+)'
      ],
      'datasourceTemplate': 'helm',
      'versioningTemplate': 'semver'
    },
    {
      'customType': 'regex',
      'description': 'Bump up cli in crossplane.yaml',
      'fileMatch': [
        'crossplane.yaml'
      ],
      'matchStrings': [
        "#\\s*renovate:\\s*datasource=(?<datasource>[^\\s]+)\\s+depName=(?<depName>[^\\s]+)\\s*\\n\\s*image:\\sxpkg\.upbound\.io\/upbound\/up-cli:\"(?<currentValue>[^\"]+)\""
      ],
      'datasourceTemplate': '{{{datasource}}}',
      'depNameTemplate': '{{{depName}}}',
    }
  ],
  'packageRules': [
    {
      'matchUpdateTypes': ['major'],
      'addLabels': ['major-update']
    },
    {
      'matchUpdateTypes': ['minor'],
      'addLabels': ['minor-update']
    },
    {
      'matchUpdateTypes': ['patch'],
      'addLabels': ['patch-update']
    }
  ]
}
